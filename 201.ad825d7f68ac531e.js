"use strict";(self.webpackChunkfilm_web=self.webpackChunkfilm_web||[]).push([[201],{4201:(M,u,o)=>{o.r(u),o.d(u,{SeriesMoviesComponent:()=>C});var g=o(177),m=o(3128),l=o(3551),_=o(980),e=o(4438),h=o(3498);const t=i=>["/movie",i];function s(i,p){if(1&i&&(e.j41(0,"div",10),e.EFF(1),e.k0s()),2&i){const r=e.XpG();e.R7$(),e.SpI(" ",r.error," ")}}function n(i,p){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const r=e.XpG(2).$implicit,a=e.XpG();e.R7$(),e.SpI(" \u2022 ",a.getSecondaryCategory(r),"")}}function d(i,p){if(1&i&&(e.j41(0,"div",22),e.EFF(1),e.DNE(2,n,2,1,"span",23),e.k0s()),2&i){const r=e.XpG().$implicit,a=e.XpG();e.R7$(),e.SpI(" ",a.getPrimaryCategory(r)," "),e.R7$(),e.Y8G("ngIf",a.hasMultipleCategories(r)&&a.getSecondaryCategory(r))}}function v(i,p){if(1&i&&(e.j41(0,"div",11)(1,"div",12),e.nrm(2,"img",13),e.j41(3,"div",14),e.EFF(4),e.k0s(),e.j41(5,"div",15),e.EFF(6),e.k0s(),e.j41(7,"div",16)(8,"h3",17),e.EFF(9),e.k0s(),e.j41(10,"div",18)(11,"span",19),e.EFF(12),e.k0s(),e.j41(13,"span",20),e.EFF(14),e.k0s(),e.j41(15,"span",20),e.EFF(16),e.k0s()(),e.DNE(17,d,3,2,"div",21),e.k0s()()()),2&i){const r=p.$implicit,a=e.XpG();e.Y8G("routerLink",e.eq3(10,t,r._id)),e.R7$(2),e.Y8G("src",r.poster_url,e.B4B)("alt",r.name),e.R7$(2),e.SpI(" ",r.episode_current," "),e.R7$(2),e.SpI(" ",r.quality," "),e.R7$(3),e.JRh(r.name),e.R7$(3),e.JRh(r.year),e.R7$(2),e.JRh(r.time),e.R7$(2),e.JRh(r.lang),e.R7$(),e.Y8G("ngIf",a.hasCategories(r))}}function f(i,p){1&i&&(e.j41(0,"div",24),e.nrm(1,"app-loading-spinner"),e.k0s())}function y(i,p){if(1&i){const r=e.RV6();e.j41(0,"div",24)(1,"button",25),e.bIt("click",function(){e.eBV(r);const c=e.XpG();return e.Njj(c.loadMore())}),e.EFF(2," Load More "),e.k0s()()}}function b(i,p){1&i&&(e.j41(0,"div",26),e.EFF(1," No TV series available. "),e.k0s())}let C=(()=>{class i{movieService;movies=[];loading=!1;error="";currentPage=1;hasMorePages=!0;constructor(r){this.movieService=r}ngOnInit(){this.loadMovies()}loadMovies(){this.loading||(this.loading=!0,this.error="",this.movieService.getSeriesMovies(this.currentPage).pipe((0,_.j)(()=>{this.loading=!1})).subscribe({next:r=>{this.movies=1===this.currentPage?r.items:[...this.movies,...r.items],this.hasMorePages=this.currentPage<r.pagination.totalPages},error:r=>{this.error="Failed to load TV series. Please try again later.",console.error("Error loading TV series:",r)}}))}loadMore(){!this.loading&&this.hasMorePages&&(this.currentPage++,this.loadMovies())}getPrimaryCategory(r){return r.category?.[0]?.name||""}getSecondaryCategory(r){return r.category?.[1]?.name||null}hasCategories(r){return!!r.category&&r.category.length>0}hasMultipleCategories(r){return!!r.category&&r.category.length>1}static \u0275fac=function(a){return new(a||i)(e.rXU(h.W))};static \u0275cmp=e.VBU({type:i,selectors:[["app-series-movies"]],standalone:!0,features:[e.aNF],decls:13,vars:5,consts:[[1,"min-h-screen","bg-white","dark:bg-[#141414]","text-gray-900","dark:text-white"],[1,"container","mx-auto","px-4"],[1,"py-8"],[1,"text-4xl","font-bold","mb-2"],[1,"text-gray-600","dark:text-gray-400"],["class","bg-red-50 dark:bg-red-500/10 border border-red-500 text-red-600 dark:text-red-500 p-4 rounded-lg mb-6",4,"ngIf"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","gap-4"],["class","group cursor-pointer transition-transform hover:scale-105",3,"routerLink",4,"ngFor","ngForOf"],["class","py-8 text-center",4,"ngIf"],["class","text-center text-gray-600 dark:text-gray-400 py-8",4,"ngIf"],[1,"bg-red-50","dark:bg-red-500/10","border","border-red-500","text-red-600","dark:text-red-500","p-4","rounded-lg","mb-6"],[1,"group","cursor-pointer","transition-transform","hover:scale-105",3,"routerLink"],[1,"relative","overflow-hidden","rounded-lg","shadow-lg","bg-gray-100","dark:bg-gray-800"],["loading","lazy",1,"w-full","aspect-[2/3]","object-cover",3,"src","alt"],[1,"absolute","top-2","right-2","px-2","py-0.5","bg-red-600","text-white","rounded","text-xs"],[1,"absolute","top-2","left-2","px-2","py-0.5","bg-blue-600","text-white","rounded","text-xs"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/90","via-black/50","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-300","flex","flex-col","justify-end","p-3"],[1,"text-white","text-sm","font-semibold","line-clamp-2"],[1,"flex","items-center","gap-2","mt-2"],[1,"text-xs","px-2","py-0.5","bg-red-600","text-white","rounded"],[1,"text-xs","text-gray-300"],["class","mt-1 text-xs text-gray-300",4,"ngIf"],[1,"mt-1","text-xs","text-gray-300"],[4,"ngIf"],[1,"py-8","text-center"],[1,"bg-red-600","hover:bg-red-700","text-white","font-medium","px-6","py-2","rounded","transition-colors",3,"click"],[1,"text-center","text-gray-600","dark:text-gray-400","py-8"]],template:function(a,c){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"TV Series"),e.k0s(),e.j41(5,"p",4),e.EFF(6,"Latest TV shows and series"),e.k0s()(),e.DNE(7,s,2,1,"div",5),e.j41(8,"div",6),e.DNE(9,v,18,12,"div",7),e.k0s(),e.DNE(10,f,2,0,"div",8)(11,y,3,0,"div",8)(12,b,2,0,"div",9),e.k0s()()),2&a&&(e.R7$(7),e.Y8G("ngIf",c.error),e.R7$(2),e.Y8G("ngForOf",c.movies),e.R7$(),e.Y8G("ngIf",c.loading),e.R7$(),e.Y8G("ngIf",!c.loading&&!c.error&&c.hasMorePages),e.R7$(),e.Y8G("ngIf",!c.loading&&!c.error&&0===c.movies.length))},dependencies:[g.MD,g.Sq,g.bT,m.iI,m.Wk,l.N],styles:['@charset "UTF-8";.movie-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem;padding:2rem 0}.movie-card[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border-radius:.375rem;overflow:hidden}.movie-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);z-index:10}.movie-card[_ngcontent-%COMP%]:hover   .movie-info[_ngcontent-%COMP%]{opacity:1}.movie-card[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%]{position:relative;padding-top:150%;background:#141414}.movie-card[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.movie-card[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%]   .quality-badge[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:#e50914e6;color:#fff;padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:600;z-index:1}.movie-card[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%]   .episode-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:.5rem;background:linear-gradient(0deg,#000000e6,#0000);color:#fff;font-size:.75rem;text-align:center;z-index:1}.movie-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:1rem;background:linear-gradient(0deg,#000000e6,#000000b3 70%,#0000);opacity:0;transition:opacity .3s ease;color:#fff}.movie-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:.5rem;line-height:1.2}.movie-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#d1d5db}.movie-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child):after{content:"\\2022";margin-left:.5rem}.movie-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.875rem;color:#9ca3af}h1[_ngcontent-%COMP%]{background:linear-gradient(to right,#e50914,#ff5f59);-webkit-background-clip:text;color:transparent;display:inline-block;letter-spacing:-.5px}']})}return i})()},3551:(M,u,o)=>{o.d(u,{N:()=>m});var g=o(4438);let m=(()=>{class l{static \u0275fac=function(h){return new(h||l)};static \u0275cmp=g.VBU({type:l,selectors:[["app-loading-spinner"]],standalone:!0,features:[g.aNF],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center","py-8"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-accent"]],template:function(h,t){1&h&&(g.j41(0,"div",0),g.nrm(1,"div",1),g.k0s())},encapsulation:2})}return l})()},3498:(M,u,o)=>{o.d(u,{W:()=>_});var g=o(6354),m=o(4438),l=o(1626);let _=(()=>{class e{http;baseUrl="https://phimapi.com";constructor(t){this.http=t}imageBaseUrl="https://phimimg.com";addImageBaseUrl(t){return t&&(t.startsWith("http")?t:`${this.imageBaseUrl}/${t}`)}transformResponse(t,s){if(s){const n=t;if("success"!==n.status)throw new Error(n.msg||"API returned unsuccessful status");if(!n.data?.items)throw new Error("No items found in response");return{items:n.data.items.map(d=>({...d,poster_url:this.addImageBaseUrl(d.poster_url),thumb_url:this.addImageBaseUrl(d.thumb_url)})),pagination:n.data.params.pagination}}{const n=t;if(!n.status)throw new Error("API returned unsuccessful status");if(!n.items)throw new Error("No items found in response");return{items:n.items.map(d=>({...d,poster_url:this.addImageBaseUrl(d.poster_url),thumb_url:this.addImageBaseUrl(d.thumb_url)})),pagination:n.pagination}}}isV1Endpoint(t){return t.includes("/v1/api/")}makeRequest(t,s={}){const n=`${this.baseUrl}${t}`,d=this.isV1Endpoint(t),v={...s};return this.http.get(n,{params:v}).pipe((0,g.T)(f=>this.transformResponse(f,d)))}getLatestMovies(t=1){return this.makeRequest("/danh-sach/phim-moi-cap-nhat",{page:t.toString()})}getMoviesByCategory(t,s=1){return this.makeRequest(`/danh-sach/the-loai/${t}`,{page:s.toString()})}getMoviesByCountry(t,s=1){return this.makeRequest(`/v1/api/danh-sach/quoc-gia/${t}`,{page:s.toString()})}getMovieDetails(t){return this.http.get(`${this.baseUrl}/phim/${t}`).pipe((0,g.T)(n=>{if(!n.status)throw new Error(n.msg||"Failed to fetch movie details");return{...n,movie:{...n.movie,poster_url:this.addImageBaseUrl(n.movie.poster_url),thumb_url:this.addImageBaseUrl(n.movie.thumb_url)}}}))}getTrendingMovies(t=1){return this.makeRequest("/v1/api/danh-sach/tv-shows",{page:t.toString()})}getSingleMovies(t=1){return this.makeRequest("/v1/api/danh-sach/phim-le",{page:t.toString()})}getSeriesMovies(t=1){return this.makeRequest("/v1/api/danh-sach/phim-bo",{page:t.toString()})}getAnimeMovies(t=1){return this.makeRequest("/v1/api/danh-sach/hoat-hinh",{page:t.toString()})}getCategories(){return this.http.get(`${this.baseUrl}/the-loai`)}getCountries(){return this.http.get(`${this.baseUrl}/quoc-gia`)}searchMovies(t){const n={};return t.keyword&&(n.keyword=t.keyword),t.page&&(n.page=t.page.toString()),t.sort_field&&(n.sort_field=t.sort_field),t.sort_type&&(n.sort_type=t.sort_type),t.sort_lang&&(n.sort_lang=t.sort_lang),t.category&&(n.category=t.category),t.country&&(n.country=t.country),t.year&&(n.year=t.year.toString()),t.limit&&(n.limit=t.limit.toString()),this.makeRequest("/v1/api/tim-kiem",n)}static \u0275fac=function(s){return new(s||e)(m.KVO(l.Qq))};static \u0275prov=m.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);