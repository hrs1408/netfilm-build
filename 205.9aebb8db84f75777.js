"use strict";(self.webpackChunkfilm_web=self.webpackChunkfilm_web||[]).push([[205],{205:(u,l,s)=>{s.r(l),s.d(l,{LoginComponent:()=>p});var c=s(177),o=s(4341),t=s(4438),w=s(303);function m(a,v){if(1&a&&(t.j41(0,"div",22)(1,"div",23),t.qSk(),t.j41(2,"svg",24),t.nrm(3,"circle",25)(4,"line",26)(5,"line",27),t.k0s(),t.EFF(6),t.k0s()()),2&a){const e=t.XpG();t.R7$(6),t.SpI(" ",e.errorMessage," ")}}let p=(()=>{class a{router;username="";password="";errorMessage="";MAX_ATTEMPTS=5;BLOCK_DURATION=36e5;constructor(e){this.router=e,"true"===localStorage.getItem("isLoggedIn")&&this.router.navigate(["/"])}ngOnInit(){this.checkLoginBlock()}checkLoginBlock(){const e=this.getLoginAttempts();if(this.isBlocked(e)){const n=this.getRemainingBlockTime(e);return this.errorMessage=`Too many failed attempts. Please try again in ${Math.ceil(n/6e4)} minutes.`,!0}return!1}getLoginAttempts(){const e=localStorage.getItem("loginAttempts");return e?JSON.parse(e):[]}saveLoginAttempt(){const e=this.getLoginAttempts();e.push({timestamp:Date.now(),ipAddress:"local"}),localStorage.setItem("loginAttempts",JSON.stringify(e))}isBlocked(e){if(e.length<this.MAX_ATTEMPTS)return!1;const r=e.slice(-this.MAX_ATTEMPTS)[0].timestamp;return Date.now()-r<this.BLOCK_DURATION}getRemainingBlockTime(e){const n=e.slice(-this.MAX_ATTEMPTS)[0].timestamp;return this.BLOCK_DURATION-(Date.now()-n)}clearLoginAttempts(){localStorage.removeItem("loginAttempts")}onSubmit(){if(!this.checkLoginBlock())if("root"===this.username&&"root"===this.password)localStorage.setItem("isLoggedIn","true"),this.clearLoginAttempts(),this.router.navigate(["/"]);else{this.saveLoginAttempt();const e=this.getLoginAttempts(),n=this.MAX_ATTEMPTS-e.length%this.MAX_ATTEMPTS;if(this.isBlocked(e)){const r=this.getRemainingBlockTime(e);this.errorMessage=`Too many failed attempts. Please try again in ${Math.ceil(r/6e4)} minutes.`}else this.errorMessage=`Invalid username or password. ${n} attempts remaining before temporary lock.`}}static \u0275fac=function(n){return new(n||a)(t.rXU(w.Ix))};static \u0275cmp=t.VBU({type:a,selectors:[["app-login"]],standalone:!0,features:[t.aNF],decls:32,vars:3,consts:[["loginForm","ngForm"],[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-gray-900","via-gray-800","to-gray-900"],[1,"bg-gray-800/50","p-12","rounded-xl","shadow-2xl","w-[500px]","backdrop-blur-sm","border","border-gray-700"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-white"],[1,"text-gray-400","mt-3","text-lg"],[1,"space-y-6",3,"ngSubmit"],[1,"relative"],["for","username",1,"block","text-sm","font-medium","text-gray-300","mb-1"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"h-5","w-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","text","id","username","name","username","required","",1,"login-input","pl-10",3,"ngModelChange","ngModel"],[1,"relative","mb-2"],["for","password",1,"block","text-sm","font-medium","text-gray-300","mb-1"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0110 0v4"],["type","password","id","password","name","password","required","",1,"login-input","pl-10",3,"ngModelChange","ngModel"],["class","text-red-500 text-base bg-red-500/10 p-4 rounded-lg border border-red-500/20",4,"ngIf"],["type","submit",1,"login-button","text-lg","py-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"h-5","w-5","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14 5l7 7m0 0l-7 7m7-7H3"],[1,"text-red-500","text-base","bg-red-500/10","p-4","rounded-lg","border","border-red-500/20"],[1,"flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"h-5","w-5"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"]],template:function(n,r){if(1&n){const g=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),t.EFF(4,"Welcome Back"),t.k0s(),t.j41(5,"p",5),t.EFF(6,"Please sign in to continue"),t.k0s()(),t.j41(7,"form",6,0),t.bIt("ngSubmit",function(){return t.eBV(g),t.Njj(r.onSubmit())}),t.j41(9,"div",7)(10,"label",8),t.EFF(11,"Username"),t.k0s(),t.j41(12,"div",7)(13,"div",9),t.qSk(),t.j41(14,"svg",10),t.nrm(15,"path",11),t.k0s()(),t.joV(),t.j41(16,"input",12),t.mxI("ngModelChange",function(i){return t.eBV(g),t.DH7(r.username,i)||(r.username=i),t.Njj(i)}),t.k0s()()(),t.j41(17,"div",13)(18,"label",14),t.EFF(19,"Password"),t.k0s(),t.j41(20,"div",13)(21,"div",9),t.qSk(),t.j41(22,"svg",10),t.nrm(23,"rect",15)(24,"path",16),t.k0s()(),t.joV(),t.j41(25,"input",17),t.mxI("ngModelChange",function(i){return t.eBV(g),t.DH7(r.password,i)||(r.password=i),t.Njj(i)}),t.k0s()()(),t.DNE(26,m,7,1,"div",18),t.j41(27,"button",19)(28,"span"),t.EFF(29,"Login"),t.k0s(),t.qSk(),t.j41(30,"svg",20),t.nrm(31,"path",21),t.k0s()()()()()}2&n&&(t.R7$(16),t.R50("ngModel",r.username),t.R7$(9),t.R50("ngModel",r.password),t.R7$(),t.Y8G("ngIf",r.errorMessage))},dependencies:[c.MD,c.bT,o.YN,o.qT,o.me,o.BC,o.cb,o.YS,o.vS,o.cV],styles:["[_nghost-%COMP%]{display:block}.login-input[_ngcontent-%COMP%]{display:block;width:100%;border-radius:.5rem;--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1));background-color:#37415180;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.login-input[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));background-color:#4b556380;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(59 130 246 / .5)}.login-input[_ngcontent-%COMP%]{padding-top:.625rem;padding-bottom:.625rem;padding-left:2.5rem;font-size:1.125rem;line-height:1.75rem}.login-input.ng-touched.ng-invalid[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.login-input.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1));--tw-ring-color: rgb(239 68 68 / .5)}.login-button[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:center;gap:.5rem;background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #2563eb var(--tw-gradient-from-position);--tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #1d4ed8 var(--tw-gradient-to-position)}.login-button[_ngcontent-%COMP%]:hover{--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.login-button[_ngcontent-%COMP%]{border-radius:.5rem;padding:.75rem 1.5rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.login-button[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-opacity: .5}.login-button[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.login-button[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.02;--tw-scale-y: 1.02;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.login-button[_ngcontent-%COMP%]:active{--tw-scale-x: .98;--tw-scale-y: .98;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.login-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.login-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.form-error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s cubic-bezier(.36,.07,.19,.97) both}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}"]})}return a})()}}]);